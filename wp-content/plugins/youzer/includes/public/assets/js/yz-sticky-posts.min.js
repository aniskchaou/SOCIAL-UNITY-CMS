!function(n){"use strict";n(document).ready(function(){n(document).on("click",".yz-pin-tool",function(t){if(t.preventDefault(),n(this).hasClass("loading"))return!1;var a,o;(a=n(this)).addClass("loading");var i={action:"yz_handle_sticky_posts",security:Youzer.security_nonce,operation:n(this).attr("data-action"),component:n(this).closest(".activity-item ").hasClass("groups")?"groups":"activity",post_id:n(this).closest(".yz-activity-tools").attr("data-activity-id")};n.post(ajaxurl,i,function(t){var i=n.parseJSON(t);return i.error?(a.removeClass("loading"),n.yz_DialogMsg("error",i.error),!1):i.action?(a.removeClass("loading"),"pin"==i.action?(a.find(".yz-tool-icon i").removeClass("fa-flip-vertical"),a.closest(".activity-item").removeClass("yz-pinned-post")):"unpin"==i.action&&(a.find(".yz-tool-icon i").addClass("fa-flip-vertical"),a.closest(".activity-item").addClass("yz-pinned-post")),o="pin"==i.action?i.pin:i.unpin,a.find(".yz-tool-name").text(o),a.attr("data-action",i.action),n.yz_DialogMsg("success",i.msg),!1):void 0}).fail(function(t,i,o){return a.removeClass("loading"),n.yz_DialogMsg("error",Youzer.unknown_error),!1})})})}(jQuery);