!function(u){"use strict";u(document).ready(function(){u.ukai_tag_editor=function(){var s;u.expr[":"].contains=u.expr.createPseudo(function(t){return function(e){return 0<=u(e).text().toUpperCase().indexOf(t.toUpperCase())}}),u(document).on("click",".ukai-tagRemove",function(e){e.preventDefault(),u(this).parent().remove()}),u("ul.ukai_tags").click(function(){u(this).find(".ukai_tags_field").focus(),s=u(this)}),u(".ukai_tags_field").keypress(function(e){if(13==(e.keyCode?e.keyCode:e.which)){var t=u(this).val(),a=u(this).closest(".ukai_tags"),i=a.data("optionName"),n=u.ukai_check_tag_existence(a,t);""!=u.trim(t)&&0==n.length?u('<li class="addedTag">'+t+'<span class="ukai-tagRemove">x</span><input type="hidden" value="'+t+'" name="'+i+'"></li>').insertAfter(s.find(".tagAdd")):(n.addClass("flash"),setTimeout(function(){n.removeClass("flash")},1e3)),u(this).val(""),e.preventDefault()}})},u.ukai_check_tag_existence=function(e,t){var a=u();return e.find(".addedTag").each(function(){if(u.trim(u(this).text().replace("x","")).toLowerCase()===u.trim(t).toLowerCase())return a=u(this),!1}),a},u.ukai_tag_editor()})}(jQuery);