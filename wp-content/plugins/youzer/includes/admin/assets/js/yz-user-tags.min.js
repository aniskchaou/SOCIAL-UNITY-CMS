!function(i){"use strict";i(document).ready(function(){i(document).on("click","#yz-add-user-tag",function(e){e.preventDefault();var t=i(".yz-user-tag-name span"),a=i("#yz-user-tags-form"),n="yz_user_tags[yz_user_tag_"+yz_nextUTag+"]",s=i.yz_getAddData(a,"yz_user_tag"),r={type:"text",value:s.name,tag_name:s.name,form:a,selector:t};if(!i.validate_user_tags_data(r))return!1;i("#yz_user_tags").prepend('<li class="yz-user-tag-item" data-user-tag-name="yz_user_tag_'+yz_nextUTag+'"><h2 class="yz-user-tag-name"><i class="fa yz-user-tag-icon '+s.icon+'"></i><span>'+s.name+'</span></h2><input type="hidden" name="'+n+'[icon]" value="'+s.icon+'" ><input type="hidden" name="'+n+'[name]" value="'+s.name+'" ><input type="hidden" name="'+n+'[field]" value="'+s.field+'" ><input type="hidden" name="'+n+'[description]" value="'+s.description+'" ><a class="yz-edit-item yz-edit-user-tag"></a><a class="yz-delete-item yz-delete-user-tag"></a></li>'),i.yz_HideModal(a),yz_nextUTag++}),i(document).on("click",".yz-edit-user-tag",function(e){var t=i(this).closest(".yz-user-tag-item"),a=i("#yz-user-tags-form");i.yz_EditForm({button_id:"yz-update-user-tag",form_title:Yz_User_Tags.update_user_tag,form:a,item:t})}),i(document).on("click","#yz-update-user-tag",function(e){e.preventDefault();var t=".yz-user-tag-name span",a=i("#yz-user-tags-form"),n=i.yz_getItemObject(a),s=i.yz_getNewData(a,"keyToVal"),r={old_name:n.find(t).text(),value:s.name,form:a,selector:i(t),type:"text",tag_icon:s.icon,tag_name:s.name,tag_field:s.field,tag_description:s.description};if(console.log(r),!i.validate_user_tags_data(r))return!1;i.yz_updateFieldsData(a)}),i.validate_user_tags_data=function(e){var t=i.extend({},e);return null==t.tag_name||""==i.trim(t.tag_name)?(i.ShowPanelMessage({msg:Yz_User_Tags.utag_name_empty,type:"error"}),!1):!i.yz_isAlreadyExist({old_title:t.old_name,selector:t.selector,value:t.value,type:"text"})||(i.ShowPanelMessage({msg:Yz_Functions.name_exist,type:"error"}),!1)},i(document).on("click",".yz-delete-user-tag",function(){i(this).closest("li").remove(),i(".yz-user-tag-item")[0]||i("#yz_user_tags").append('<p class="yz-no-content yz-no-user-tags">'+Yz_User_Tags.no_user_tags+"</p>")})})}(jQuery);